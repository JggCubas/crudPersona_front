<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>crudPersona_front documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">crudPersona_front documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content interface">
                   <div class="content-data">













<ol class="breadcrumb">
  <li>Interfaces</li>
  <li
  >
  Personas</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/personas/personas.component.ts</code>
        </p>


            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>Interzas que define ls estructura de los datos a manejar</p>

            </p>


        <section>
            <h3 id="index">Index</h3>
            <table class="table table-sm table-bordered index-table">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <h6><b>Properties</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                        <a href="#Ape_Mat" 
>
                                            Ape_Mat
                                        </a>
                                </li>
                                <li>
                                        <a href="#Ape_Pat" 
>
                                            Ape_Pat
                                        </a>
                                </li>
                                <li>
                                        <a href="#Avatar" 
>
                                            Avatar
                                        </a>
                                </li>
                                <li>
                                        <a href="#Curp" 
>
                                            Curp
                                        </a>
                                </li>
                                <li>
                                        <a href="#Estatus_Id" 
>
                                            Estatus_Id
                                        </a>
                                </li>
                                <li>
                                        <a href="#Fecha_Alta" 
>
                                            Fecha_Alta
                                        </a>
                                </li>
                                <li>
                                        <a href="#Fecha_Modificacion" 
>
                                            Fecha_Modificacion
                                        </a>
                                </li>
                                <li>
                                        <a href="#Fecha_Nacimiento" 
>
                                            Fecha_Nacimiento
                                        </a>
                                </li>
                                <li>
                                        <a href="#Id" 
>
                                            Id
                                        </a>
                                </li>
                                <li>
                                        <a href="#Nombre" 
>
                                            Nombre
                                        </a>
                                </li>
                                <li>
                                        <a href="#Persona_Tipo_id" 
>
                                            Persona_Tipo_id
                                        </a>
                                </li>
                                <li>
                                        <a href="#Rfc" 
>
                                            Rfc
                                        </a>
                                </li>
                                <li>
                                        <a href="#Sexo_id" 
>
                                            Sexo_id
                                        </a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>



            <section>
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="Ape_Mat"></a>
                                        <span class="name "><b>Ape_Mat</b>
                                            <a href="#Ape_Mat">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>Ape_Mat:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="Ape_Pat"></a>
                                        <span class="name "><b>Ape_Pat</b>
                                            <a href="#Ape_Pat">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>Ape_Pat:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="Avatar"></a>
                                        <span class="name "><b>Avatar</b>
                                            <a href="#Avatar">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>Avatar:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" >String</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" >String</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="Curp"></a>
                                        <span class="name "><b>Curp</b>
                                            <a href="#Curp">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>Curp:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="Estatus_Id"></a>
                                        <span class="name "><b>Estatus_Id</b>
                                            <a href="#Estatus_Id">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>Estatus_Id:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="Fecha_Alta"></a>
                                        <span class="name "><b>Fecha_Alta</b>
                                            <a href="#Fecha_Alta">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>Fecha_Alta:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="Fecha_Modificacion"></a>
                                        <span class="name "><b>Fecha_Modificacion</b>
                                            <a href="#Fecha_Modificacion">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>Fecha_Modificacion:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="Fecha_Nacimiento"></a>
                                        <span class="name "><b>Fecha_Nacimiento</b>
                                            <a href="#Fecha_Nacimiento">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>Fecha_Nacimiento:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="Id"></a>
                                        <span class="name "><b>Id</b>
                                            <a href="#Id">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>Id:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="Nombre"></a>
                                        <span class="name "><b>Nombre</b>
                                            <a href="#Nombre">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>Nombre:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="Persona_Tipo_id"></a>
                                        <span class="name "><b>Persona_Tipo_id</b>
                                            <a href="#Persona_Tipo_id">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>Persona_Tipo_id:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="Rfc"></a>
                                        <span class="name "><b>Rfc</b>
                                            <a href="#Rfc">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>Rfc:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="Sexo_id"></a>
                                        <span class="name "><b>Sexo_id</b>
                                            <a href="#Sexo_id">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>Sexo_id:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
            </section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit, Inject, ViewChild, ElementRef } from &#x27;@angular/core&#x27;;
import { FormBuilder,FormControl,FormGroup,Validators } from &#x27;@angular/forms&#x27;;
import { HttpClient } from &#x27;@angular/common/http&#x27;;
import { MatPaginator } from &#x27;@angular/material/paginator&#x27;;
import { MatTableDataSource,MatTable } from &#x27;@angular/material/table&#x27;;
import {MatTableModule} from &#x27;@angular/material/table&#x27;;;
import { MatSort } from &#x27;@angular/material/sort&#x27;;
import { MatIconRegistry } from &#x27;@angular/material/icon&#x27;;
import { DateAdapter } from &#x27;@angular/material/core&#x27;;

import {DatePipe} from &#x27;@angular/common&#x27;;

import {FaIconLibrary} from &#x27;@fortawesome/angular-fontawesome&#x27;;
import { faPen,faTrash,faSquare } from &#x27;@fortawesome/free-solid-svg-icons&#x27;;
import { faRectangleXmark } from &#x27;@fortawesome/free-regular-svg-icons&#x27;;


import { MAT_DATE_FORMATS } from &#x27;@angular/material/core&#x27;;
export const MY_DATE_FORMATS &#x3D; {
    parse: {
      dateInput: &#x27;YYYY-MM-DD&#x27;,
    },
    display: {
      dateInput: &#x27;YYYY-MM-DD&#x27;,
      monthYearLabel: &#x27;MMMM YYYY&#x27;,
      dateA11yLabel: &#x27;LL&#x27;,
      monthYearA11yLabel: &#x27;MMMM YYYY&#x27;
    },
};




import { peticiones_service } from &#x27;./servicios&#x27;;
/**
 * Interzas que define ls estructura de los datos a manejar
 */
export interface Personas {
  Id:number;
  Nombre:string;
  Ape_Pat:string;
  Ape_Mat:string;
  Rfc:string;
  Curp:string;
  Fecha_Nacimiento :string;
  Fecha_Alta :string;
  Fecha_Modificacion :string;
  Estatus_Id :number;
  Sexo_id :number;
  Persona_Tipo_id:number;
  Avatar:String;
}




var ID &#x3D; function () {
  return &#x27;_&#x27; + Math.random().toString(36).substr(2, 9);
};

@Component({
  selector: &#x27;app-personas&#x27;,
  templateUrl: &#x27;./personas.component.html&#x27;,
  styles: [],
  providers:  [ peticiones_service, {provide: MAT_DATE_FORMATS, useValue: MY_DATE_FORMATS } ,DatePipe]
})
export class PersonasComponent implements OnInit {
  dataSource &#x3D; new MatTableDataSource&lt;Personas&gt;();
  displayedColumns: string[] &#x3D; [&#x27;acciones&#x27;,&#x27;nombre&#x27;,&#x27;ape_pat&#x27;,&#x27;ape_mat&#x27;,&#x27;rfc&#x27;,&#x27;curp&#x27;];
  selectSexo &#x3D; [{&#x27;id&#x27;:1,&#x27;label&#x27;:&#x27;Masculino&#x27;},{&#x27;id&#x27;:2,&#x27;label&#x27;:&#x27;Femenino&#x27;}];
  selectEstatus &#x3D; [{&#x27;id&#x27;:1,&#x27;label&#x27;:&#x27;Activo&#x27;},{&#x27;id&#x27;:2,&#x27;label&#x27;:&#x27;Inactivo&#x27;}];
  selectTipo &#x3D; [{&#x27;id&#x27;:1,&#x27;label&#x27;:&#x27;Fisica&#x27;},{&#x27;id&#x27;:2,&#x27;label&#x27;:&#x27;moral&#x27;}];
  display &#x3D; &#x27;none&#x27;;
  displayRemove &#x3D; &#x27;none&#x27;;
  nombreRemove &#x3D; &quot;&quot;;
  editPersona &#x3D; false;
  submitted &#x3D; false;
  form_personas : FormGroup;
  fileUpload? : File;
  filePath? : string;
  reader &#x3D; new FileReader();
  constructor(public objpeticiones_service: peticiones_service,library: FaIconLibrary,private formBuilder: FormBuilder,private dateAdapter: DateAdapter&lt;Date&gt;,private datePipe: DatePipe) {
    library.addIcons(faPen,faTrash,faRectangleXmark);
    this.dateAdapter.setLocale(&#x27;Es-es&#x27;);
    this.form_personas &#x3D; this.formBuilder.group(
      {
        Id : [&#x27;&#x27;],
        Nombre : [&#x27;&#x27;,Validators.required],
        Ape_Pat : [&#x27;&#x27;,Validators.required],
        Ape_Mat : [&#x27;&#x27;],
        Rfc : [&#x27;&#x27;,[Validators.required,Validators.maxLength(13), Validators.minLength(13)]],
        Curp : [&#x27;&#x27;,[Validators.required,Validators.maxLength(18), Validators.minLength(18)]],
        Fecha_Nacimiento : [&#x27;&#x27;],
        Fecha_Alta : [&#x27;&#x27;],
        Fecha_Modificacion : [&#x27;&#x27;],
        Estatus_Id : [&#x27;&#x27;,Validators.required],
        Sexo_id : [0,Validators.required],
        Persona_Tipo_id : [&#x27;&#x27;,Validators.required],
        Avatar : [&#x27;&#x27;],
      }
    );

   }
  @ViewChild(MatSort, {static: true}) sort!: MatSort;
  ngOnInit(): void {
    this.getList();
    this.reader.onload &#x3D; (_event) &#x3D;&gt; {
      this.filePath &#x3D; this.reader.result as string;
    }
  }
  /**
 * @param {event} event  parametro para obtener el archivo seleconado a subir
 */
  selectFile(event: any) {
    if(!event.target.files[0] || event.target.files[0].length &#x3D;&#x3D; 0) {
      return;
    }
    const mimeType &#x3D; event.target.files[0].type;

    if (mimeType.match(/image\/*/) &#x3D;&#x3D; null) {
      return;
    }


    this.reader.readAsDataURL(event.target.files[0]);
    this.fileUpload &#x3D; event.target.files[0];

  }
  /**
   * solicita al servicio la lisa de los registros guardados
   */
  getList(){
    this.objpeticiones_service.getListPersonas().subscribe((data)&#x3D;&gt;{
      this.dataSource &#x3D; new MatTableDataSource&lt;Personas&gt;(data);
      this.dataSource.sort &#x3D; this.sort;
    });
  }
  /**
 *Cierra los popup
 */
  closeModal() {
    this.display &#x3D; &#x27;none&#x27;;
    this.displayRemove &#x3D; &#x27;none&#x27;;
  }
  /**
 * @param {object} row_obj  Recibe el nodo a editar para su actualizacion
 */
  edit(row_obj:any){
    this.submitted &#x3D; false;
    this.editPersona &#x3D; true;
    this.filePath &#x3D; &quot;&quot;;
    this.form_personas.setValue(row_obj);
    this.display &#x3D; &#x27;block&#x27;;
    this.filePath &#x3D; this.objpeticiones_service.getPath()+&#x27;/&#x27;+this.form_personas.value.Avatar;
  }

  /**
 * Abre el popup para un nuevo registro
 */
  viewPop(){
    this.submitted &#x3D; false;
    this.form_personas.reset();
    this.editPersona &#x3D; false;
    this.display &#x3D; &#x27;block&#x27;;
    this.filePath &#x3D; &quot;&quot;;
  }//Endfuncion
  /**
 * Accion para guardar los datos modificados, o generar un nuevo registro.
 */
  saveNewPersona(){
    this.submitted &#x3D; true;
    if (this.form_personas.invalid) {return;}

    let data &#x3D; this.dataSource.data;
    if(this.editPersona){
      this.objpeticiones_service.uploadFile(this.fileUpload!).subscribe((url)&#x3D;&gt;{
        if(typeof url[&#x27;body&#x27;] !&#x3D;&#x3D; &#x27;undefined&#x27; ){
          this.form_personas.patchValue({
            Avatar: url[&#x27;body&#x27;][&#x27;ruta&#x27;]
          });
        }
      }).add(()&#x3D;&gt;{
        this.form_personas.patchValue({
          Fecha_Nacimiento: this.datePipe.transform(this.form_personas.value.Fecha_Nacimiento, &#x27;yyyy-MM-dd&#x27;)
        });
        let resource &#x3D; this.form_personas.value;
        this.objpeticiones_service.updatePersona(resource.Id,resource).subscribe((result)&#x3D;&gt;{
          this.dataSource.data[this.dataSource.data.findIndex(item &#x3D;&gt; item.Id &#x3D;&#x3D; result.Id)] &#x3D; result;
          this.dataSource.data &#x3D; this.dataSource.data;
        });
      });
    }else{
      this.objpeticiones_service.uploadFile(this.fileUpload!).subscribe((url)&#x3D;&gt;{
        if(typeof url[&#x27;body&#x27;] !&#x3D;&#x3D; &#x27;undefined&#x27; ){
          this.form_personas.patchValue({
            Avatar: url[&#x27;body&#x27;][&#x27;ruta&#x27;]
          });
        }
      }).add(()&#x3D;&gt;{
        this.form_personas.patchValue({
          Fecha_Nacimiento: this.datePipe.transform(this.form_personas.value.Fecha_Nacimiento, &#x27;yyyy-MM-dd&#x27;)
        });
        let resource &#x3D; this.form_personas.value;
        this.objpeticiones_service.setNewPersona(resource).subscribe((result)&#x3D;&gt;{
          data.push(result);
          this.dataSource.data &#x3D; data;
        });
      });
    }
    this.display &#x3D; &#x27;none&#x27;;
  }
  /**
 * Accion que se ejecuta al confirmar la eliminacion del registro
 */
  confirmRemovePersona(){
    this.objpeticiones_service.removePersona(this.form_personas.value.Id).subscribe((result)&#x3D;&gt;{
      this.dataSource.data &#x3D; this.dataSource.data.filter((value,key)&#x3D;&gt;{
       return value.Id !&#x3D; this.form_personas.value.Id;
      });
      this.display &#x3D; &#x27;none&#x27;;
      this.displayRemove &#x3D; &#x27;none&#x27;;
      this.form_personas.reset();
    });
  }
  /**
 * @param {object} row_obj  Levanta el popup para confirmar la eliminacion
 */
  remove(row_obj:any){
    this.displayRemove &#x3D; &#x27;block&#x27;;
    this.nombreRemove &#x3D; row_obj;
    this.form_personas.setValue(row_obj);
  }

  get f() {
     return this.form_personas.controls;
  }


}
</code></pre>
    </div>
</div>








                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'interface';
            var COMPODOC_CURRENT_PAGE_URL = 'Personas.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
